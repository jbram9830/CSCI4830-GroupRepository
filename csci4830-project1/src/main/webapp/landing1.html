<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Omaha Trail Conditions</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            background-color: black;
            color: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: top;
            height: 100vh;
        }

        .create-button {
            background-color: rgb(51, 51, 51);
            margin-right: 0%;
            margin-left: auto;
            position: absolute;
            overflow: hidden;
        }

        .navbar {
            background-color: #333;
            width: 65%;
            padding-left: 1%;
            overflow: hidden;
        }

        .navbar a {
            float: left;
            display: block;
            color: white;
            text-align: center;
            padding: 16px 18px;
            text-decoration: none;
        }

        .navbar a:hover {
            background-color: #ddd;
            color: black;
        }

        .post-container {
            max-height: 80%;
            width: 65%;
            overflow-y: scroll;
            border: 1px solid #ccc;
            padding: 10px;
        }
        
        .post-body {
			border: 1px solid rgb(255, 0, 0);
			max-width: 400px;
			position: relative;
			margin-bottom: 5px;
			padding-left: 5%;
			padding-right: 5%;
		}

        .post {
            margin-bottom: 20px;
            background-color: rgb(192, 192, 192);
            padding: 10px;
            border-radius: 2px;
            position: relative;
			padding-left: 5%;
			padding-right: 5%;
            
        }

        .post-info {
            font-weight: bold;
            margin-top: 20px;
            margin-bottom: 5px;
            text-align: left;
        }

        .post-text {
			padding: 45px;
			max-width: 400px;
            text-align: left;
        }
    </style>
</head>

    <script>
	    fetch('/LoadDB') // Assuming the server endpoint is '/LoadDB'
                .then(response => response.json())
                .then(postsData => {
                    postsData.forEach(function (post) {
                        var postElement = document.createElement('div');
                        postElement.className = 'post';

                        var postInfo = document.createElement('div');
                        postInfo.className = 'post-info';
                        postInfo.textContent = 'Posted by ' + post.getPoster_alias() + ' on ' + new Date(post.post_timestamp).toLocaleString();
                        postElement.appendChild(postInfo);

                        var postText = document.createElement('div');
                        postText.className = 'post-text';
                        postText.textContent = 'Trail Name: ' + post.trail_name + '\nTrail Score: ' + post.trail_score + '\n' + post.post_body;
                        postElement.appendChild(postText);

                        postContainer.appendChild(postElement);
                    });
                })
                .catch(error => {
                    console.error('Error fetching posts:', error);
                });
}

populatePostsFromServer();


// Call the function to populate posts from the server
    </script>
    <body>
	<h1>Omaha Trail Conditions</h1>
    <div class="navbar">
        <a href="#">ALL TRAILS</a>
        <a href="#">Platte</a>
        <a href="#">Lewis & Clark</a>
        <a href="#">Oxbow</a>
        <a href="#">Mandan</a>
        <a href="#">Tranquility</a>
        <a href="#">Swanson</a>
        <a href="#">Walnut Creek</a>
        <a href="#">Jewell</a>
        <a href="#">Other</a>
    </div>

    <div class="post-container">
        
    </div>
</body>
</html>
